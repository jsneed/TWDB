<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>The Web Developer Bootcamp - Lecture 177 - Patatap Clone - Code Along</title>
        <link rel="stylesheet" href="assets/css/patatap.css" charset="utf-8">
        <script type="text/javascript" src="assets/js/lib/paper-full.js"></script>
        <script type="text/javascript" src="assets/js/lib/howler.js"></script>
        <script type="text/javascript" src="assets/js/patatap.js"></script>

        <script type="text/paperscript" canvas="myCanvas">

            var circles = [];

            function onKeyDown(event)
            {
                if(keyData[event.key])
                {
                    keyData[event.key].sound.play();

                    //console.log("Max Height: " + view.size.height + "\tMax Width: " + view.size.width);

                    var maxPoint = new Point(view.size.width, view.size.height);
                    var randomPoint = Point.random();
                    var point = maxPoint * randomPoint;

                    //console.log("Height: " + point.x + "\tWidth: " + point.y);

                    var circle = new Path.Circle(point, 500);
                    circle.fillColor = keyData[event.key].color;

                    circles.push(circle);
                    //console.log(circles);
                    //console.log( " -> Height: " + circle.size.height + "\tWidth: " + circle.size.width);
                }
            }

            function onFrame(event)
            {
                for(var i = 0; i < circles.length; i++)
                {
                    circles[i].fillColor.hue += 1;
                    circles[i].scale(0.9);
                    if(circles[i].area < 1)
                    {
                        //console.log("Area " + circles[i].area);
                        circles[i].remove();
                        circles.splice(i, 1);
                        console.log(circles);
                    }
                    //console.log("Circle " + i + " -> Height: " + circles[i].size.height + "\tWidth: " + circles[i].size.width);
                }
            }
        </script>

    </head>
    <body>
        <canvas id="myCanvas" resize></canvas>
    </body>
</html>
